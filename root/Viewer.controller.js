sap.ui.controller("movie.demo.Viewer", {
  init:function(table,area){      this.table = table;      this.area = area;  },
  
  MovieSelectHandler:function(oControlEvent){        that = this;        var selectedFilm = oControlEvent.getParameters().rowContext.getObject();                  $.ajax({                                     url: "MovieActors.xsjs?film_id="+selectedFilm.film_id,            type: "GET",            processData:false,                                              error: function(XMLHttpRequest, textStatus, errorThrown){                alert(XMLHttpRequest.responseText);             },            success: function(data) {                that.area.setValue(data);            },        });  },    
LoadMovies:function(table){        $.ajax({                                     url: "MovieOverview.xsjs",            type: "GET",            processData:false,                                              error: function(XMLHttpRequest, textStatus, errorThrown){                alert(XMLHttpRequest.responseText);             },            success: function(data) {                var oModel = new sap.ui.model.json.JSONModel();                oModel.setData({modelData: data});                table.setModel(oModel);                table.bindRows("/modelData");                //Initially sort the table                table.sort(table.getColumns()[1]);                    },        });   }});